params{
    //project
    project_id                      = null
    location                        = 'europe-west3'
    workdir_bucket                  = null

    //compute
    use_spot                        = true
    boot_disk                       = '100 GB'
    workers_service_account         = null


    //networking
    use_private_ip                  = true
}

workDir                             = params.workdir_bucket

process{
    executor                        = 'google-batch'
}

google {
    location                        = params.location
    project                         = params.project_id
    batch.usePrivateAddress         = params.use_private_ip
    batch.spot                      = params.use_spot
    batch.serviceAccountEmail       = params.workers_service_account
    batch.bootDiskSize              = params.boot_disk
}